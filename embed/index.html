<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embed YouTube Video</title>
</head>

<body>
    <div style="margin: 0 auto; width: 90vw;">
        <input type="text" id="video-id" onkeydown="keyTyped()" oninput="onChange()"
            style="font-size: 1.5em; width: 100%;"><br>
        <input type="button" value="Go! Baby Go!" onclick="update_yt_video()" style="font-size: 1.5em;">
    </div>
    <br>
    <div style="width:100%; height:100vh; margin: 0 auto;">
        <iframe id="video-frame" width="80%" height="80%" src="https://www.youtube.com/embed/unknown" frameborder="0"
            allowfullscreen style="display: block; margin: 0 auto;" autoplay></iframe>
    </div>

    <!-- Script to update YouTube link -->
    <script>
        function keyTyped() {
            if (event.key === 'Enter') {
                update_yt_video();
            }
        }

        function onChange() {
            update_yt_video();
        }

        function update_yt_video() {
            let video_id = document.getElementById("video-id").value;
            if (video_id.includes("https://youtu.be/")) {
                video_id = video_id.replace("https://youtu.be/", "");
            } else if (video_id.includes("https://")) {
                var url = new URL(video_id);
                video_id = url.searchParams.get("v");
            }

            const iframe = document.getElementById("video-frame");
            iframe.src = `https://www.youtube.com/embed/${video_id}`;
            iframe.focus();
            console.log(iframe.src);
        }
    </script>
</body>

</html>