<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Blog">
  <meta name="author" content="Sourabh Bhat">

  <title>Sourabh Bhat - Blog</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-69828084-1"></script>
  <script src="../../js/gtag.js"></script>


  <!-- AdSense -->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-5232558571567163",
      enable_page_level_ads: true
    });
  </script>

  <!-- Bootstrap core CSS -->
  <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="../vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet'
    type='text/css'>
  <link
    href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
    rel='stylesheet' type='text/css'>

  <!-- Custom styles for this template -->
  <link href="../css/clean-blog.min.css" rel="stylesheet">

  <!-- My styles -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Math -->
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async>
    </script>

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand" href="../../index.html">Sourabh Bhat</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
        data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
        aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="../index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../about.html">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../../index.html#contact">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Page Header -->
  <header class="masthead" style="background-image: url('../img/math.jpg')">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="post-heading">
            <h1>Tangent to a Circle From a Distant Point</h1>
            <h2 class="subheading">Helper tool in geometry creation</h2>
            <span class="meta">Posted by
              <a href="../../index.html">Sourabh Bhat</a>
              on June 28, 2019</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Post Content -->
  <article>
    <div class="container">
      <!-- Row for Ad -->
      <div class="ad row">
        <div class="col-12">
          <!-- Ad -->
          <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5232558571567163"
            data-ad-slot="5414144171" data-ad-format="auto" data-full-width-responsive="true"></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <img class="img-fluid" src="img/tangent_calculations.svg.png" alt="">
          <span class="caption text-muted">Fig 1: Schematic diagram of the problem.</span>

          <hr>
          <form>
            <span class="text-primary font-weight-bold form-label-text">r :</span> &nbsp;&nbsp;
            <input type="number" id="r" value="15">
            <br>
            <span class="text-primary font-weight-bold form-label-text">x<sub>o</sub> :</span>
            <input type="number" id="xo" value="0">
            <br>
            <span class="text-primary font-weight-bold form-label-text">y<sub>o</sub> :</span>
            <input type="number" id="yo" value="0">
            <br>
            <span class="text-primary font-weight-bold form-label-text">x<sub>p</sub> :</span>
            <input type="number" id="xp" value="50">
            <br>
            <span class="text-primary font-weight-bold form-label-text">y<sub>p</sub> :</span>
            <input type="number" id="yp" value="50">
            <br>
            <br>
            <input class="btn btn-primary" type="button" onclick="solve()" value="Calculate">
          </form>
          <br>
          <span>Inputs:</span>
          <div class="text-secondary ml-3" id="inputs"></div>
          <span>Angles:</span>
          <div class="text-primary ml-3" id="result"></div>
          <span>Tangent locations:</span><br>
          <div class="text-primary ml-3" id="position"></div>
          <hr>

          <p>Recently, I was working with a friend on a problem requiring CFD simulation. To do the simulation, we
            needed to recreate a geometry from a research paper. It was a simple axi-symmetric geometry, a part of which
            is shown below.
          </p>

          <img class="img-fluid" src="img/partial_geometry.svg.png" alt="">
          <span class="caption text-muted">Fig 2: Partial geometry from the research paper.</span>

          <p>
            This is a fully defined geometry and we could have easily created it using a geometric software such as
            Solidworks or Catia, by applying necessary constraints of tangency. But we were working with Ansys ICEM
            meshing software. We knew the position of the center of the circle, its radius and the point at which the
            ramp begun. Here, I have indicated them as point \(O\) and point \(P\) respectively. If only we knew where
            the
            tangent touches the circle (Point \(T\)), or the angle at which the radial line touches the tangent (angle
            \(\theta\)), we could draw the line from point \(P\) to point \(T\).
          </p>

          <p>
            This problem seems straightforward at first glance, and we thought so as well. But, it is difficult
            to solve it without an iterative approach. So, I developed a tool written in JavaScript and HTML (shown
            above) to do exactly that and provide the solution. I am putting it here, in hope that it would be useful to
            someone. For technical details on how the tool works continue to read below.
          </p>

        </div>
      </div>

      <!-- Row for Ad -->
      <div class="ad row">
        <div class="col-12">
          <!-- Ad -->
          <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5232558571567163"
            data-ad-slot="5414144171" data-ad-format="auto" data-full-width-responsive="true"></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <h2 class="section-heading">How does it work?</h2>
          <p>
            A tangent line to a circle has a property that it is perpendicular to the radial line at the point of
            intersection. That is, line \(OT\) is perpendicular to line \(TP\). Which means that if we represent these
            lines as vectors, then the dot product of the two vector has to be zero (property of the dot product that is
            very very important and used way too often). The two vectors are created by joining \(T\)-\(P\) and
            \(O\)-\(T\).
            Mathematically, they are obtained by subtracting the coordinates of point \(P\) from point \(T\) and
            subtracting coordinates of point \(T\) from point \(O\). So we obtain the following vector equation:
          </p>

          $$
          \overrightarrow{OT}=\left[\begin{array}{c}
          r\,\cos\left(\theta\right)\\
          r\,\sin\left(\theta\right)
          \end{array}\right]
          $$

          and,

          $$\overrightarrow{TP} = \overrightarrow{P}-\overrightarrow{T}$$
          $$\overrightarrow{TP} = \overrightarrow{P}-\left(\overrightarrow{O}+\overrightarrow{OT}\right)$$

          <p>
            The dot product between the two vectors is zero,
          </p>

          $$\overrightarrow{OT}\bullet\overrightarrow{TP} = 0$$
          $$\overrightarrow{OT}\bullet\left(\overrightarrow{P}-\left(\overrightarrow{O}+\overrightarrow{OT}\right)\right)
          = 0$$

          <p>
            Writing it more explicitly, we get,
          </p>

          $$
          \left[\begin{array}{c}
          r\,\cos\left(\theta\right)\\
          r\,\sin\left(\theta\right)
          \end{array}\right]\bullet\left[\begin{array}{c}
          x_{P}-x_{O}-r\,\cos\left(\theta\right)\\
          y_{P}-y_{O}-r\,\sin\left(\theta\right)
          \end{array}\right]=0
          $$

          which gives us the equation,
          $$
          r\,\cos\left(\theta\right)\,\left(x_{P}-x_{O}-r\,\cos\left(\theta\right)\right)
          +r\,\sin\left(\theta\right)\,\left(y_{P}-y_{O}-r\,\sin\left(\theta\right)\right)=0
          $$

          and can be simplified to,
          $$
          \left(x_{O}-x_{P}\right)\,\cos\left({\color{blue}\theta}\right)
          +\left(y_{O}-y_{P}\right)\,\sin\left({\color{blue}\theta}\right)+r=0
          $$

          <p>
            As it is obvious we can have two solutions to this problem, or no solutions if the point lies inside the
            circle. The first solution can be obtained by using the Newton-Raphson method and initializing the iteration
            such that it converges to one of the sides. The second solution can be similarly obtained. The code decides
            if there is no solution if it is unable to converge within 100 iterations.
          </p>

          <p>
            So now that you know how it works go ahead and use the tool whenever you need it. Feel free to write
            to me if it is useful or if you find any bugs.
          </p>

          <p>
            Thanks for using this toolâ€¦ :)
          </p>
        </div>
      </div>

      <!-- Row for Ad -->
      <div class="ad row">
        <div class="col-12">
          <!-- Ad -->
          <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5232558571567163"
            data-ad-slot="5414144171" data-ad-format="auto" data-full-width-responsive="true"></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
      </div>

    </div>
  </article>

  <hr>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <ul class="list-inline text-center">
            <li class="list-inline-item">
              <a href="https://www.youtube.com/SourabhBhatCFD">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="https://www.github.com/heySourabh">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="https://twitter.com/heySourabh">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="https://www.linkedin.com/in/sourabh-bhat-6603b416">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="https://www.facebook.com/sourabh.bhat">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          </ul>
          <p class="copyright text-muted">Copyright &copy; Sourabh Bhat 2019</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="../vendor/jquery/jquery.min.js"></script>
  <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Custom scripts for this template -->
  <script src="../js/clean-blog.min.js"></script>
  <script src="js/calc.js"></script>

</body>

</html>